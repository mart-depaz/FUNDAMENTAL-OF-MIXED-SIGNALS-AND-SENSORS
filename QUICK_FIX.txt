# BIOMETRIC ENROLLMENT SYSTEM - QUICK SETUP CHECKLIST

## üî¥ CRITICAL: WiFi Band Mismatch Detected!

```
YOUR SETUP:
‚îú‚îÄ PC WiFi: 5 GHz (802.11ac) ‚Üê You are here
‚îî‚îÄ ESP32: 2.4 GHz only (not compatible!)
          ‚úó CAN'T COMMUNICATE ACROSS BANDS
```

## ‚úÖ QUICK FIX (30 seconds)

### 1. Access Router Settings
- Type in browser: `192.168.1.1` or `192.168.0.1`
- Enter router username/password
- Click "WiFi Settings" or "Wireless"

### 2. Enable 2.4 GHz Band
- Look for "WiFi Band" or "Band Settings"
- Find option for "2.4 GHz" 
- Enable it (set SSID: "DE PAZ", password: "Blake_2018")
- Click "Save/Apply"
- Wait 30 seconds for router to restart

### 3. Verify Both Bands Available
```
After restart, look in WiFi list:
‚úì DE PAZ (WiFi 5) - 5GHz - your PC will use this
‚úì DE PAZ (WiFi 6) - 2.4GHz - ESP32 will use this
  (some routers show both with same name "DE PAZ")
```

---

## üìã SYSTEM COMPONENTS STATUS

### Hardware Components
- [x] ESP32 DOIT Devkit V1 - Connected & Working
- [x] R307 Fingerprint Sensor - Detected ‚úì
- [x] WiFi Network - Available but band mismatch

### Software Components  
- [x] ESP32 Firmware - Uploaded & Running
- [x] Flask Web Server on ESP32 - Running on port 80
- [x] Django Backend - Running on port 8000
- [x] Enrollment Frontend - Updated with correct ESP32 IP (192.168.1.10)

### Network Requirements
- [ ] WiFi 2.4 GHz band enabled on router
- [ ] Both devices can ping each other
- [ ] ESP32 can reach Django server

---

## üöÄ AFTER WIFI FIX: Test System

### Option 1: Run Automated Test
```powershell
cd "c:\Users\USER\OneDrive\Documents\QR code & Biometric Attendance System\FUNDAMENTAL-OF-MIXED-SIGNALS-AND-SENSORS"
python test_biometric_system.py
```

Expected: ‚úì‚úì‚úì SYSTEM READY

### Option 2: Manual Testing

#### Test 1: ESP32 is Reachable
```powershell
# From your PC, test if you can reach ESP32
curl http://192.168.1.10/status

# Expected response:
# {"status":"ready","slot":0,"in_progress":false}
```

#### Test 2: Django is Reachable
```powershell
# Open in browser
http://localhost:8000/dashboard/api/health-check/

# Expected response:
# {"status": "ok", "message": "Django server is reachable", ...}
```

#### Test 3: Fingerprint Enrollment
```powershell
# Send test enrollment request to ESP32
curl -X POST http://192.168.1.10/enroll `
  -H "Content-Type: application/json" `
  -d '{"slot": 1, "template_id": "test_123"}'

# Expected response:
# {"success":true,"message":"Enrollment started - waiting for 5 scans"}
```

---

## üì± TEST ENROLLMENT VIA WEB INTERFACE

1. Open: `http://localhost:8000/dashboard/student/enroll-course/`
2. Login as student (if prompted)
3. Look for course section with "Fingerprint" button
4. Click "Fingerprint" ‚Üí "Start"
5. Place finger on R307 sensor when prompted
6. Repeat 5 times
7. Watch progress: 0% ‚Üí 20% ‚Üí 40% ‚Üí 60% ‚Üí 80% ‚Üí 100%
8. Success! Fingerprint enrolled

---

## üîç TROUBLESHOOTING QUICK REFERENCE

| Problem | Solution |
|---------|----------|
| "Can't reach ESP32" | Enable 2.4GHz WiFi on router |
| "Can't reach Django" | Check Django running: `python manage.py runserver 0.0.0.0:8000` |
| "Fingerprint not detected" | Check R307 wiring & power |
| "Stuck on scan 1-2" | Place finger firmly on sensor |
| "Enrollment timeout" | Check WiFi signal strength |

---

## üéØ WHAT HAPPENS DURING ENROLLMENT

```
Student clicks "Start":
    ‚Üì
Frontend sends: POST http://192.168.1.10/enroll
    ‚Üì
ESP32 receives request, starts listening for finger
    ‚Üì
Student places finger on R307 sensor 5 times:
  Scan 1: Template image 1 ‚Üí Quality check ‚Üí OK
  Scan 2: Template image 2 ‚Üí Create model ‚Üí OK  
  Scan 3: Verify accuracy ‚Üí OK
  Scan 4: Verify accuracy ‚Üí OK
  Scan 5: Verify accuracy ‚Üí OK
    ‚Üì
ESP32 sends: Enrollment complete
    ‚Üì
Frontend shows: "100% - Fingerprint registered!"
    ‚Üì
Django saves fingerprint data to database
    ‚Üì
Student can now use fingerprint for attendance
```

---

## üìä IP ADDRESSES & PORTS

```
On your network (192.168.1.0/24):

ESP32:           192.168.1.10:80
                 ‚îî‚îÄ Web Server (enrollment endpoint)
                 ‚îî‚îÄ R307 Sensor (UART)

Your PC:         192.168.1.6
                 ‚îî‚îÄ Django Server: port 8000
                 ‚îî‚îÄ Browser access

Django APIs:
  GET  /dashboard/api/health-check/
  POST /dashboard/api/broadcast-scan-update/
  POST /dashboard/api/broadcast-enrollment-complete/
```

---

## ‚ú® System is Ready When:

- [x] ESP32 Web Server running
- [x] R307 Sensor detected
- [x] Django Server running  
- [x] Frontend code updated
- [ ] WiFi 2.4GHz band enabled (YOU ARE HERE)
- [ ] ESP32 can ping PC
- [ ] PC can ping ESP32
- [ ] Enrollment test passes

---

## üéì LEARNING RESOURCES

If you want to understand the system better:

1. **ESP32 Code:** `src/main.cpp`
   - WiFi connection logic
   - Fingerprint sensor communication
   - REST API endpoints

2. **Frontend:** `templates/dashboard/student/enroll_course.html`
   - Biometric registration modal
   - Real-time progress display
   - WebSocket communication

3. **Django Backend:** `dashboard/views.py`
   - API endpoints for enrollment
   - Student record management
   - Fingerprint data storage

---

**Last Updated:** December 25, 2025
**Status:** Ready for WiFi band fix
**Contact:** System Administrator
