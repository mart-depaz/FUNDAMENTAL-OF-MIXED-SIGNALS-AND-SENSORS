/* Mobile Responsive CSS - Instructor Dashboard */
/* Screens up to 700px - ensure centered notifications */
@media (max-width: 700px) {
    /* Ensure notifications are centered on all small screens */
    #notification-container {
        position: fixed !important;
        top: 0px !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 999999999 !important;
        pointer-events: none !important;
        width: 100% !important;
        max-height: 100vh !important;
        overflow-y: auto !important;
        padding-top: 8px !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: flex-start !important;
    }
    
    .notification-toast {
        min-width: auto !important;
        max-width: calc(100vw - 24px) !important;
        width: auto !important;
        margin: 8px auto !important;
        padding: 12px 14px !important;
        font-size: 12px !important;
        border-radius: 8px !important;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        pointer-events: auto !important;
        z-index: 999999999 !important;
        position: static !important;
        gap: 8px !important;
        display: flex !important;
        flex-wrap: wrap !important;
        align-items: flex-start !important;
        justify-content: center !important;
        overflow: visible !important;
    }
}

/* Ultra-small mobile portrait (320px - 479px) */
@media (max-width: 479px) {
    /* ========================================
       NOTIFICATION SYSTEM - QR SCANNING FIX
       ======================================== */
    
    /* Notification container - ABSOLUTE TOP POSITION - VISIBLE ABOVE EVERYTHING */
    #notification-container {
        position: fixed !important;
        top: 0px !important; /* Absolute top - no offset */
        left: 0 !important;
        right: 0 !important;
        z-index: 999999999 !important; /* EXTREME Z-INDEX - ABOVE EVERYTHING */
        pointer-events: none !important;
        width: 100% !important;
        max-height: 100vh !important;
        overflow-y: auto !important;
        padding-top: 8px !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
    }
    
    /* Notification toast - ensure visibility on mobile - ABOVE EVERYTHING */
    .notification-toast {
        min-width: auto !important;
        max-width: calc(100vw - 24px) !important;
        width: auto !important;
        margin: 6px auto !important;
        padding: 12px 14px !important;
        font-size: 12px !important;
        border-radius: 8px !important;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        pointer-events: auto !important;
        z-index: 999999999 !important;
        position: static !important;
        gap: 8px !important;
        display: flex !important;
        flex-wrap: wrap !important;
        align-items: flex-start !important;
        justify-content: center !important;
        overflow: visible !important;
    }
    
    /* Notification content text sizing */
    .notification-content {
        font-size: 11px !important;
        line-height: 1.3 !important;
        color: #1F2937 !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        word-break: break-word !important;
        text-align: center !important;
    }
    
    /* Notification icon sizing */
    .notification-icon {
        font-size: 16px !important;
        flex-shrink: 0 !important;
        min-width: 16px !important;
    }
    
    /* Close button sizing */
    .notification-close {
        width: 18px !important;
        height: 18px !important;
        font-size: 14px !important;
        flex-shrink: 0 !important;
        min-width: 18px !important;
    }
    
    /* ========================================
       QR CODE MODAL - LOWER Z-INDEX THAN NOTIFICATIONS
       ======================================== */
    
    /* QR Code Modal - ensure it's BELOW notifications */
    #qrCodeModal {
        z-index: 99990 !important; /* BELOW notifications */
        padding: 12px !important;
    }
    
    #qrCodeModal .bg-white {
        max-width: calc(100vw - 24px) !important;
        max-height: calc(100vh - 100px) !important;
        padding: 16px !important;
        border-radius: 12px !important;
        z-index: 99990 !important;
    }
    
    /* QR Code image sizing for mobile */
    #qrCodeModalImage {
        max-width: 100% !important;
        height: auto !important;
        margin: 12px auto !important;
    }
    
    /* QR Code modal title text */
    #qrCodeModalCourseName {
        font-size: 14px !important;
        font-weight: 600 !important;
    }
    
    #qrCodeModalCourseCode {
        font-size: 11px !important;
    }
    
    /* ========================================
       TOPBAR - LOWER THAN NOTIFICATIONS
       ======================================== */
    
    /* Main content area - proper spacing from topbar */
    main#main-content {
        margin-top: 56px !important;
        padding-top: 8px !important;
    }
    
    /* Topbar - below notifications */
    header#teacher-top-bar {
        z-index: 99990 !important;
    }
    
    /* ========================================
       Z-INDEX LAYER MANAGEMENT - FINAL
       ======================================== */
    
    /* Z-Index Hierarchy for Mobile (320px-479px):
       9999999 - Notifications (TOPMOST - ALWAYS VISIBLE)
       99990   - QR Code Modal
       99990   - Topbar (header#teacher-top-bar)
       100     - Sidebar
       1       - Content (lowest)
    */
    
    /* Force all notification elements to highest z-index */
    #notification-container * {
        z-index: 999999999 !important;
    }
    
    .notification-toast,
    .notification-toast * {
        z-index: 999999999 !important;
    }
}

/* Medium mobile screens (480px - 768px) */
@media (min-width: 480px) and (max-width: 768px) {
    #notification-container {
        padding-top: 8px !important;
    }
    
    .notification-toast {
        min-width: auto !important;
        max-width: calc(100vw - 32px) !important;
        width: calc(100vw - 32px) !important;
        margin: 8px auto 8px auto !important;
        padding: 12px 14px !important;
        font-size: 12px !important;
    }

    .notification-content {
        font-size: 12px !important;
        line-height: 1.3 !important;
    }

    .notification-icon {
        font-size: 17px !important;
        min-width: 17px !important;
    }
}

/* Ensure notifications are visible on all screen sizes */
#notification-container {
    z-index: 999999999 !important;
}

.notification-toast {
    z-index: 999999999 !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: fit-content !important;
}

@media (max-width: 479px) {
    #notification-container {
        top: var(--teacher-header-offset, 56px) !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        padding-top: 8px !important;
        width: calc(100% - 16px) !important;
        max-width: 100% !important;
    }

    .notification-toast {
        width: 100% !important;
        max-width: 480px !important;
        min-width: 0 !important;
        margin-left: auto !important;
        margin-right: auto !important;
    }
}

html {
    -webkit-text-size-adjust: 100%;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html,
body {
    max-width: 100%;
    overflow-x: hidden;
}

img,
video,
canvas,
svg {
    max-width: 100%;
    height: auto;
}

input,
select,
textarea {
    max-width: 100%;
}

table {
    width: 100%;
    max-width: 100%;
}

@media (max-width: 1024px) {
    body:not(.schedule-page) {
        overflow-y: auto !important;
    }

    .main-content {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        min-width: 0 !important;
    }

    .content,
    main,
    #main-content {
        min-width: 0 !important;
        max-width: 100% !important;
        overflow-x: hidden !important;
    }

    table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

@media (max-width: 640px) {
    nav.w-full > div {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    nav.w-full a {
        min-width: 0;
    }

    nav.w-full span.text-white.font-bold.text-lg {
        font-size: 1rem;
        line-height: 1.2;
    }
}
